# Sprintboard

I generate many images on ComfyUI every day.
They are all stored on my Windows PC, but I want to view and manage them on my iPhone.
So, I made this.

This is a React-based image viewer.
You can view images stored on your local device through a web browser.
Any device connected to the same LAN can access it.
I created it mainly to manage my Stable Diffusion outputs from ComfyUI, so most features are optimized for that purpose.

# Features

## View Thousands of Images on Your PC and Mobile Phones

<p style="text-align: center">
  <img src="doc/img/IMG_6693.avif" width="48%" />
  <img src="doc/img/IMG_6691.avif" width="48%" />
</p>

The server is written in C++, so it can handle thousands of images quickly.
Start the server on your desktop PC, and you can access those images from any device with a web browser that’s connected to the same Wi-Fi network (LAN).

## ComfyUI Specific Metadata

The server can parse metadata from PNG files and extract useful information.
You can use this data to apply filters.

Each token is separated by commas, so if you input `looking at viewer, (one, two)`, it will be parsed into three tokens: `looking at viewer`, `(one`, and `two)`.
Currently, the server only checks whether each token exists as a whole in the prompt string.

There are special tokens.

* `dim:ver` - Show only vertical images
* `dim:hor` - Show only horizontal images
* `model:<text>` - Show only images whose model name contains `<text>` as a substring

## Use AVIF to Save Storage Space

The server can be configured to generate AVIF images from PNG source files.
Metadata generated by ComfyUI in PNG files is transferred to the AVIF images, allowing the app to use it for filtering and searching.
AVIF images are usually only about 5–15% the size of the original PNG files, so you may choose to delete the PNG images to save storage space.

# How to Start the Server

Download the prebuilt binary or build it yourself, then run `sprintboard.exe`.
Make sure there is a *dist* folder in the current working directory.
You should see the following messages in the console.

```
Serving static files from ./dist
Starting server at http://127.0.0.1:8787
```

Open the link in your preferred web browser.
On the front page, click the *Go to Images* button to open the file browser.
In the *example* folder, you should find some test images.

# Configs

Upon starting the server, a file named `server_configs.json` is created.
Open it with any text editor.

```json
{
  "avif_gen": false,
  "avif_gen_remove_src": false,
  "avif_quality": 70.0,
  "avif_speed": 4,
  "dir_bindings": {
    "example": {
      "local_dirs": [
        "./test_cpp/images"
      ]
    }
  },
  "server_host": "127.0.0.1",
  "server_port": 8787,
  "tls-certfile": "",
  "tls-keyfile": ""
}
```

For now, you don’t need to change anything except `dir_bindings`.
Copy the `example` entry and modify it to create your own, as shown below.

```json
{
  ...
  "dir_bindings": {
    "example": {
      "local_dirs": [
        "./test_cpp/images"
      ]
    },
    "your images": {
      "local_dirs": [
        "C:\\your\\image\\folder\\path"
      ]
    }
  },
  ...
}
```

Or just edit `example` entry directly.

Note that JSON is an unforgiving format.
If you omit a comma where one is required, or add one where it shouldn’t be, the JSON parser will fail completely, and you will see the following message in the console.

```
Loading server configs from file: sprintboard/server_configs.json
Failed to reload server configs: [json.exception.parse_error.101] parse error at line 12, column 3: syntax error while parsing object key - unexpected '}'; expected string literal
```

If everything went well, you should now be able to see your images.

There are optional parameters.

|Key |Description
|- |-
|`server_host` |This is the IP address used by the server. Change it to something like `192.168.x.x` if you want to access the web app from your phone.
|`server_port` |The port number to bind to. Pick any available port you like (for example, `8787`).
|`tls-certfile` |The file path to the TLS certificate file used to enable HTTPS mode.
|`tls-keyfile` |The file path to the TLS key file used to enable HTTPS mode.

These are immutable variables.
If you modify their values, you must restart the server to apply the changes.

|Key |Description
|- |-
|`avif_gen` |Generate an AVIF image for each source image. If an AVIF file with the same filename already exists, the server will serve that file instead.
|`avif_gen_remove_src` |Currently not implemented
|`avif_quality` |Quality option for AVIF encoder.
|`avif_speed` |Speed option for AVIF encoder.
|`dir_bindings` |Add folder entries here. Each key will appear as a folder in the root directory, and all contents in local_dirs will be placed inside it. You can use both absolute and relative paths for local_dirs. Although you can set multiple directories for a single binding, I strongly recommend using only one.

If you modify these values, the changes will take effect as soon as possible, without restarting the server.

# Guide to Viewing Images on Mobile Phone

If your PC and mobile phone are connected to the same Wi-Fi network, you can access the web app from your phone.

First, open the Command Prompt and run `ipconfig`.
You should see something like this.

```
Ethernet adapter Ethernet:

   Connection-specific DNS Suffix  . :
   IPv4 Address. . . . . . . . . . . : 192.168.0.201
   Subnet Mask . . . . . . . . . . . : 255.255.255.0
   Default Gateway . . . . . . . . . : 192.168.0.1
```

In this case, `192.168.0.201` is your PC’s LAN address.

Modify `server_host` in `server_configs.json` to `"0.0.0.0"` and restart the server.
Then, open a web browser on your phone and enter `http://192.168.0.201:8787` in the address bar.
If it works, you’re all set.
Everything else should work just like it does in a desktop browser.
For better security, change the `server_host` value to `"192.168.0.201"`.

Once you understand how this works, you can even browse your images from anywhere.
While it’s possible to expose port `8787` using port forwarding and access it over the internet, this can be risky for your privacy.
For better security, I strongly recommend using [WireGuard](https://www.wireguard.com/) or [OpenVPN](https://openvpn.net/).

Since ComfyUI is also a web app, you can set it up to use it on your phone or even over the internet.
I’ve built this setup and carry a laptop with WireGuard installed, so I can generate and manage images anywhere.

# How to Build

Clone the repository via `git clone https://github.com/SausageTaste/sprintboard`.

## React Frontend

First, make sure you have node.js installed.

```
>node --version
v25.2.1
```

Open the Command Prompt and run following commands:

* `npm ci` - Download dependencies and initialize React project.
* `npm run build` - Generate `dist` foder which backend server can serve.
* `npm run dev` - Run React web app server in dev mode.

## C++ Backend

You need following tools

* Microsoft [Visual Studio](https://visualstudio.microsoft.com/downloads) or [Build Tools](https://visualstudio.microsoft.com/downloads/?q=build+tools#build-tools-for-visual-studio-2026).
* [CMake](https://cmake.org/download/)
* [vcpkg](https://github.com/microsoft/vcpkg) with environment variable `VCPKG_ROOT` set.

Build CMake target `sprintboard` to obtain `sprintboard.exe` file.
